<!doctype html>
<html lang="en">

<head>
    <title> Hard Rock Solution - Song Lyric App</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Favicon -->
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <!-- Custom css -->
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <nav class="navbar  navbar-dark my-3">
            <a class="navbar-brand" href="#">
                <img src="images/logo.png" alt="Hard Rock Solution">
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavId" aria-controls="collapsibleNavId" aria-expanded="false" aria-label="Toggle navigation">
                <img src="images/toggler-icon.svg" alt="">
            </button>
            <div class="collapse navbar-collapse" id="collapsibleNavId">
                <ul class="navbar-nav ml-auto mt-2 mt-lg-0">
                    <li class="nav-item active">
                        <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Link</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="dropdownId" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Dropdown</a>
                        <div class="dropdown-menu" aria-labelledby="dropdownId">
                            <a class="dropdown-item" href="#">Action 1</a>
                            <a class="dropdown-item" href="#">Action 2</a>
                        </div>
                    </li>
                </ul>
            </div>
        </nav>

        <main  class="content-area">
            <div class="search-bar col-md-6 mx-auto">
                <h1 class="text-center">Lyrics Search</h1>
                <div class="search-box my-5">
                    <input id="searchSong" type="text" class="form-control" placeholder="Enter your artist song name" >
                    <button id="searchSongBtn" class="btn btn-success search-btn">Search</button>
                </div>
            </div>

        <!-- alert for unavailable data -->
            <div id="alertUnavailable"> </div>  

            <div class="d-flex justify-content-center">
                <div id="songSuggestionList">
                    <p class="author lead"><strong id="title1">Purple Noon</strong> Album by <span id="artist1">Washed Out</span> <button id="lyricsBtn1" class="btn btn-success">Get Lyrics</button></p>
                    <p class="author lead"><strong id="title2">Purple Noon</strong> Album by <span id="artist2">Washed Out</span> <button id="lyricsBtn2" class="btn btn-success">Get Lyrics</button></p>
                    <p class="author lead"><strong id="title3">Purple Noon</strong> Album by <span id="artist3">Washed Out</span> <button id="lyricsBtn3" class="btn btn-success">Get Lyrics</button></p>
                    <p class="author lead"><strong id="title4">Purple Noon</strong> Album by <span id="artist4">Washed Out</span> <button id="lyricsBtn4" class="btn btn-success">Get Lyrics</button></p>
                    <p class="author lead"><strong id="title5">Purple Noon</strong> Album by <span id="artist5">Washed Out</span> <button id="lyricsBtn5" class="btn btn-success">Get Lyrics</button></p>
                </div>
            </div>
            <!--====== Single Lyrics==========-->
            <div id="lyricsContent" class="single-lyrics text-center">
                <button class="btn go-back">&lsaquo;</button>
                <h2 id="lyricsContentTitle" class="text-success mb-4">Pentatonix - Na Na Na</h2>
                <pre id="textContent" class="lyric text-white">
    Wont go whistling like the wind blows,
    Looking out my window,
    Just to see the shine
    Maybe you might call it crazy,
    How Im acting lately,

    
                </pre>
            </div>

            <div id="lyricsSongSuggestionList" class="search-result col-md-8 mx-auto py-4">
                <!--====== single result ========-->
                <div class="single-result row align-items-center my-3 p-3">
                    <div class="col-md-9">
                        <h3 class="lyrics-name" id="lyricsTitle1">Purple Noon</h3>
                        <p class="author lead">Album by <span id="lyricsArtist1">Washed Out</span></p>
                    </div>
                    <div class="col-md-3 text-md-right text-center">
                        <button class="btn btn-success" id="getLyricsBtn1">Get Lyrics</button>
                    </div>
                </div>
                <div id="textContent1" class="lyric text-white">
                    
                </div>
                <!--===== ./ single result =====-->

                 <!--====== single result =====-->
                 <div class="contentBoxStyle single-result row align-items-center my-3 p-3">
                    <div class="col-md-9">
                        <h3 class="lyrics-name" id="lyricsTitle2">Purple Noon</h3>
                        <p class="author lead">Album by <span id="lyricsArtist2">Washed Out</span></p>
                    </div>
                    <div class="col-md-3 text-md-right text-center">
                        <button class="btn btn-success"id="getLyricsBtn2">Get Lyrics</button>
                    </div>
                </div>
                <div id="textContent2" class="lyric text-white">
                    
                </div>
                <!--===== ./ single result =====-->
                 <!--====== single result =====-->
                 <div class="single-result row align-items-center my-3 p-3">
                    <div class="col-md-9">
                        <h3 class="lyrics-name" id="lyricsTitle3">Purple Noon</h3>
                        <p class="author lead">Album by <span id="lyricsArtist3">Washed Out</span></p>
                    </div>
                    <div class="col-md-3 text-md-right text-center">
                        <button class="btn btn-success"id="getLyricsBtn3">Get Lyrics</button>
                    </div>
                </div>
                <div id="textContent3" class="lyric text-white"> </div>
                <!--===== ./ single result =====-->
                <!--===== single result ====-->
                <div class="single-result row align-items-center my-3 p-3">
                    <div class="col-md-9">
                        <h3 class="lyrics-name" id="lyricsTitle4">Purple Noon</h3>
                        <p class="author lead">Album by <span id="lyricsArtist4">Washed Out</span></p>
                    </div>
                    <div class="col-md-3 text-md-right text-center">
                        <button class="btn btn-success"id="getLyricsBtn4">Get Lyrics</button>
                    </div>
                </div>
                <div id="textContent4" class="lyric text-white"> </div>
                <!--===== ./ single result ======-->
                <!--===== single result =====-->
                <div class="single-result row align-items-center my-3 p-3">
                    <div class="col-md-9">
                        <h3 class="lyrics-name" id="lyricsTitle5">Purple Noon</h3>
                        <p class="author lead">Album by <span id="lyricsArtist5">Washed Out</span></p>
                    </div>
                    <div class="col-md-3 text-md-right text-center">
                        <button class="btn btn-success"id="getLyricsBtn5">Get Lyrics</button>
                    </div>
                </div>
                <div id="textContent5" class="lyric text-white"> </div>
                <!--======= ./ single result =====-->
                <!--====== single result =====-->
                <div class="single-result row align-items-center my-3 p-3">
                    <div class="col-md-9">
                        <h3 class="lyrics-name" id="lyricsTitle6">Purple Noon</h3>
                        <p class="author lead">Album by <span id="lyricsArtist6">Washed Out</span></p>
                    </div>
                    <div class="col-md-3 text-md-right text-center">
                        <button class="btn btn-success"id="getLyricsBtn6">Get Lyrics</button>
                    </div>
                </div>
                <div id="textContent6" class="lyric text-white"> </div>
                <!--======= ./ single result ========-->
                <!--======== single result =========-->
                <div class="single-result row align-items-center my-3 p-3">
                    <div class="col-md-9">
                        <h3 class="lyrics-name" id="lyricsTitle7">Purple Noon</h3>
                        <p class="author lead">Album by <span id="lyricsArtist7">Washed Out</span></p>
                    </div>
                    <div class="col-md-3 text-md-right text-center">
                        <button class="btn btn-success"id="getLyricsBtn7">Get Lyrics</button>
                    </div>
                </div>
                <div id="textContent7" class="lyric text-white"> </div>
                <!-- ========./ single result========-->
                <!--======= single result ======-->
                <div class="single-result row align-items-center my-3 p-3">
                    <div class="col-md-9">
                        <h3 class="lyrics-name" id="lyricsTitle8">Purple Noon</h3>
                        <p class="author lead">Album by <span id="lyricsArtist8">Washed Out</span></p>
                    </div>
                    <div class="col-md-3 text-md-right text-center">
                        <button class="btn btn-success"id="getLyricsBtn8">Get Lyrics</button>
                    </div>
                </div>
                <div id="textContent8" class="lyric text-white"> </div>
                <!--====== ./ single result ======-->
                <!--====== single result ======-->
                <div class="single-result row align-items-center my-3 p-3">
                    <div class="col-md-9">
                        <h3 class="lyrics-name" id="lyricsTitle9">Purple Noon</h3>
                        <p class="author lead">Album by <span id="lyricsArtist9">Washed Out</span></p>
                    </div>
                    <div class="col-md-3 text-md-right text-center">
                        <button class="btn btn-success"id="getLyricsBtn9">Get Lyrics</button>
                    </div>
                </div>
                <div id="textContent9" class="lyric text-white"> </div>
                <!--====== ./ single result ======-->
                <!--====== single result ======-->
                <div class="single-result row align-items-center my-3 p-3">
                    <div class="col-md-9">
                        <h3 class="lyrics-name" id="lyricsTitle10">Purple Noon</h3>
                        <p class="author lead">Album by <span id="lyricsArtist10">Washed Out</span></p>
                    </div>
                    <div class="col-md-3 text-md-right text-center">
                        <button class="btn btn-success"id="getLyricsBtn10">Get Lyrics</button>
                    </div>
                </div>
                <div id="textContent10" class="lyric text-white"> </div>
                <!--====== ./ single result ======-->
                <!--====== single result ======-->
                <div class="single-result row align-items-center my-3 p-3">
                    <div class="col-md-9">
                        <h3 class="lyrics-name" id="lyricsTitle11">Purple Noon</h3>
                        <p class="author lead">Album by <span id="lyricsArtist11">Washed Out</span></p>
                    </div>
                    <div class="col-md-3 text-md-right text-center">
                        <button class="btn btn-success"id="getLyricsBtn11">Get Lyrics</button>
                    </div>
                </div>
                <div id="textContent11" class="lyric text-white"> </div>
                <!--======= ./ single result ========-->
                <!--======= single result ========-->
                <div class="single-result row align-items-center my-3 p-3">
                    <div class="col-md-9">
                        <h3 class="lyrics-name" id="lyricsTitle12">Purple Noon</h3>
                        <p class="author lead">Album by <span id="lyricsArtist12">Washed Out</span></p>
                    </div>
                    <div class="col-md-3 text-md-right text-center">
                        <button class="btn btn-success"id="getLyricsBtn12">Get Lyrics</button>
                    </div>
                </div>
                <div id="textContent12" class="lyric text-white"> </div>
                <!--======== ./ single result =========-->
                <!--======== single result ==========-->
                <div class="single-result row align-items-center my-3 p-3">
                    <div class="col-md-9">
                        <h3 class="lyrics-name" id="lyricsTitle13">Purple Noon</h3>
                        <p class="author lead">Album by <span id="lyricsArtist13">Washed Out</span></p>
                    </div>
                    <div class="col-md-3 text-md-right text-center">
                        <button class="btn btn-success"id="getLyricsBtn13">Get Lyrics</button>
                    </div>
                </div>
                <div id="textContent13" class="lyric text-white"> </div>
                <!--======== ./ single result =========-->
                <!--========== single result =========-->
                <div class="single-result row align-items-center my-3 p-3">
                    <div class="col-md-9">
                        <h3 class="lyrics-name" id="lyricsTitle14">Purple Noon</h3>
                        <p class="author lead">Album by <span id="lyricsArtist14">Washed Out</span></p>
                    </div>
                    <div class="col-md-3 text-md-right text-center">
                        <button class="btn btn-success"id="getLyricsBtn14">Get Lyrics</button>
                    </div>
                </div>
                <div id="textContent14" class="lyric text-white"> </div>
                <!---============== ./ single result ============---->
                <!---------- single result------------->
                <div class="single-result row align-items-center my-3 p-3">
                    <div class="col-md-9">
                        <h3 class="lyrics-name" id="lyricsTitle15">Purple Noon</h3>
                        <p class="author lead">Album by <span id="lyricsArtist15">Washed Out</span></p>
                    </div>
                    <div class="col-md-3 text-md-right text-center">
                        <button class="btn btn-success"id="getLyricsBtn15">Get Lyrics</button>
                    </div>
                </div>
                <div id="textContent15" class="lyric text-white"> </div>
                <!--------------- ./ single result----------------- -->
            </div>
        </main>         <!-------main-------->
    </div> <!--/.container-->
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <!-- Custom Script Here -->
    <script>
        const searchSong = document.getElementById('searchSong');
const searchSongBtn = document.getElementById('searchSongBtn');
const songSuggestionList = document.getElementById("songSuggestionList");
const lyricsSongSuggestionList = document.getElementById("lyricsSongSuggestionList");

// lyrics suggestion
searchSong.addEventListener("keypress",event =>{
    if(searchSong.value.length > 0){
        searchSong.style.color="black"
    }
    const api=`https://api.lyrics.ovh/suggest/${event.target.value+event.key}`
    

    fetch(api)
    .then(res => res.json())
    .then(data =>{
        
        for(let i = 1; i <= 5; i++){
           document.getElementById("title"+i).innerText=data.data[i].title
           document.getElementById("artist"+i).innerText=data.data[i].artist.name


           const title = data.data[i].title
            const artist = data.data[i].artist.name
            document.getElementById("lyricsBtn"+i).addEventListener("click",(event)=>{
               const api2 = `https://api.lyrics.ovh/v1/${artist}/${title}`
                fetch(api2)
                .then(res=>res.json())
                .then(data=>{
                    let str=data.lyrics.split(" ")
                    let [a,b,c]=str
                    if(str.length > 10){
                        document.getElementById("lyricsContentTitle").innerText=`${a} ${b} ${c}`
                    }else{
                        document.getElementById("lyricsContentTitle").innerText=`${a}`
                    }
                    document.getElementById("textContent").innerText=data.lyrics
                })
                document.getElementById("lyricsContent").style.display="block"
            })
        }
        songSuggestionList.style.display="block"
    })
})

// all matched lyrics

searchSongBtn.addEventListener('click',event=>{
    if(searchSong.value.length < 1){

        let searchSong = document.getElementById("searchSong")
        searchSong.value = "type a lyrics name"
        searchSong.style.color = "red"
        document.getElementById("lyricsSongSuggestionList").style.display="none"
   
    }else{
        searchSong.style.color = "black"
    let api = `https://api.lyrics.ovh/suggest/${searchSong.value}`
    document.getElementById("lyricsContent").style.display="none"
    for(let i=1; i<=15 ;i++){
        document.getElementById("textContent"+i).style.display="none"
    }
    fetch(api)
    .then(res => res.json())
    .then(data => {
        // console.log(data.data.length)
        if(data.data.length == 0){
            document.getElementById("alertUnavailable").innerHTML=`<h4 style="color:red; text-align:center">sorry this lyrics is not available, now</h4>`
        }else{
            for(let i = 1; i <= data.data.length; i++){
            
                document.getElementById("lyricsTitle" + i).innerHTML=data.data[i].title
                document.getElementById("lyricsArtist" + i).innerHTML=data.data[i].artist.name
                lyricsSongSuggestionList.style.display="block"
                let count=1;
                document.getElementById("getLyricsBtn" + i).addEventListener("click",event=>{
                    
                    
                    let textContent = document.getElementById("textContent"+i)
    
                    let title = data.data[i].title
                    let artist = data.data[i].artist.name
                    let api2 = `https://api.lyrics.ovh/v1/${artist}/${title}`
                    fetch(api2)
                    .then(res => res.json())
                    .then(data => {
                        // console.log(data.lyrics)
                        if(data.lyrics==undefined){
                            textContent.innerHTML=`<p style="color:red; text-align:center;">At this time, this lyrics is not available , Please try again later</p>`
                                textContent.style.display="block"
                                
                        }else{
                            if(count%2 !== 0){
                                textContent.innerHTML=data.lyrics
                                textContent.style.display="block"
                                
                                count++
                               }else{
                                textContent.style.display="none"
                                count++
                               }
                        }
                    })
                })   
            }
        }
    })   
    songSuggestionList.style.display = "none"
}  
})
    </script>
</body>

</html>